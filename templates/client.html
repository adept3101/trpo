{% extends "base.html" %}
{% block title %}
<title>FastApi</title>
{% endblock %}
{% block content %}
<div class="container">
  <h1 class="display-4">Клиенты</h1>
  <hr>
  <form method="post" action="clients/delete_selected">
    <button type="submit" class="btn btn-danger btn-sm">Удалить выбранных</button>
  <table class="table table-hover" width="85%">
    <thead class="thead-dark">
      <tr>
        <form method="post" action="/clients/add">
          <button type="submit" class="btn">Добавить</button>
        </form>
        <th scope="col">client_id</th>
        <th scope="col">name</th>
        <th scope="col">lastname</th>
        <th scope="col">email</th>
        <th scope="col">registr_date</th>
      </tr>
    </thead>
  <tbody>
    {%for client in clients%}
    <tr>
      <td>{{client.client_id}}</td>
      <td>{{client.name}}</td>
      <td>{{client.lastname}}</td>
      <td>{{client.email}}</td>
      <td>{{client.registr_date}}</td>
      <td><input type="checkbox" name="selected_items" value="{{ client.client_id }}"></td>
      <td>
        <form method="post" action="/clients/delete/{{ client.client_id }}" style="display: inline;">
            <button type="submit" class="btn btn-danger btn-sm"
                    onclick="return confirm('Удалить клиента {{ client.name }} {{ client.lastname }}?')">
             Удалить 
            </button>
          </form>
      </td>
    </tr>
    {%endfor%}
    </tbody>
  </table>
  </form>
</div>
{% endblock %}


